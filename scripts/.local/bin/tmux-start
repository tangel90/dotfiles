#!/usr/bin/env bash

program=$1

if [[ ! -x "$(command -v $1)" ]];then
  echo "Command not found: $1"
  exit 127
fi

targetDir="$2"

if [[ ! -d "$targetDir" ]]; then
  echo "WARNING: Not a directory: $targetDir"
  targetDir="$HOME"
fi

if [[ -z $3 ]]; then
  targetName=$1
else
  targetName=$3
fi

if ! tmux has-session -t $targetName &>/dev/null; then
  tmux new-session -d -s $targetName -n $1 "$1"
fi
tmux switch-client -t $targetName

