#! /usr/bin/env bash

if ! git -C ../ rev-parse --show-toplevel > /dev/null 2>&1; then
  echo "Parent directory is not a git repository"
  exit 0
fi

if [ -z "$TMUX" ]; then
    echo "Not inside tmux session"
    exit 1
fi

if ! tmux list-windows 2>/dev/null | grep -q '^lazygit$'; then
    tmux new-window -n lazygit "lazygit"
fi

tmux select-window -t lazygit
