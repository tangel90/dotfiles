#!/usr/bin/env bash

targetDir="$HOME/$1"

if [[ -z $1 || ! -d $targetDir ]]; then
  echo "Argument must be a path: $targetDir"
  exit 1
fi

if [[ -z $2 ]]; then
  targetName=$1
else
  targetName=$2
fi

if ! tmux has-session -t "$targetName" &>/dev/null; then
  tmux new-session -d -s "$targetName" -n sql -c "$targetDir"
fi

tmux switch-client -t "$targetName"

